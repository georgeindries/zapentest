const { getUserMostFrequentAlerts, getUserAlertsRisksFrequency } = require('../database/queries/statistics');

exports.getUserMostFrequentAlerts = async (userEmail, oldestDate) => getUserMostFrequentAlerts(
  userEmail,
  oldestDate,
)
  .then((resObj) => {
    const alerts = resObj.map((alert) => ({
      name: alert.name,
      risk: alert.risk,
      frequency: alert.frequency,
    }));
    return alerts;
  })
  .catch((err) => {
    throw err;
  });

exports.getUserAlertsRisksFrequency = async (userEmail, oldestDate) => getUserAlertsRisksFrequency(
  userEmail,
  oldestDate,
)
  .then((resObj) => {
    const risks = resObj.map((res) => ({
      risk: res.risk,
      frequency: res.frequency,
    }));
    return risks;
  })
  .catch((err) => {
    throw err;
  });
